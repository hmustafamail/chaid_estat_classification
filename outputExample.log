-------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study
> \chaid_estat_classification\outputExample.log
  log type:  text
 opened on:   7 Feb 2016, 13:28:13

. 
. // Import data
. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // Split up nummeds into quartiles
. egen nummedsquartile = cut(nummeds), at(1, 6, 11, 15, 29)

. 
. //******************************************************************************
. // Example of using ESTAT, the precedent for logit models.
. //******************************************************************************
. 
. // Create logistic model
. logistic acute vent drips nummedsquartile if mod(observation + 4, 9)

Logistic regression                               Number of obs   =         48
                                                  LR chi2(3)      =      26.55
                                                  Prob > chi2     =     0.0000
Log likelihood =  -19.82789                       Pseudo R2       =     0.4010

---------------------------------------------------------------------------------
          acute | Odds Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
           vent |   12.08054   15.15933     1.99   0.047     1.032646    141.3257
          drips |   2.212344   1.144865     1.53   0.125     .8023519     6.10015
nummedsquartile |   1.161343   .0972935     1.79   0.074     .9854839    1.368583
          _cons |   .0721588   .0713391    -2.66   0.008     .0103934    .5009816
---------------------------------------------------------------------------------

. 
. // Run on a sample set
. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. //******************************************************************************
. // Example of using CHAIDESTAT, an analogous function for CHAID tree models.
. //******************************************************************************
. 
. // Create the decision tree
. chaid acute, ordered(vent drips nummedsquartile) ///
>                         spltalpha(0.5) minnode(10) minsplit(10), ///
>                         if mod(observation + 4, 9)

Chi-Square Automated Interaction Detection (CHAID) Tree Branching Results
--------------------------------------------------------------------------------

                1            2
    +---------------------------+
  1 |      vent@0       vent@1  |
  2 |  Cluster #1   Cluster #2  |
    +---------------------------+

. 
. // TODO: Run on a sample set
. //chaid_estat_classification if !mod(observation + 4, 9)
. 
. 
. // todo: get rid fo this
. chaid_estat_classification 
unrecognized command:  chaid_estat_classification
r(199);

end of do-file

r(199);

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}              {hline 8} True {hline 8}"
  9.         display "Classified |         D            ~D  |      Total"
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
end of do-file

. quietly logistic acute vent drips nummedsquartile if mod(observation + 4, 9)
variable nummedsquartile not found
r(111);

. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}              {hline 8} True {hline 8}"
  9.         display "Classified {vline}         D            ~D  |      Total"
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------
Classified {vline}         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}              {hline 8} True {hline 8}"
  9.         display "Classified |         D            ~D  |      Total"
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. help smcl

. help smcl

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified |         D            ~D  |      Total"
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c +}{dup 8: } D {dup 10: } ~D  |      Total"
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified +         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c +}{dup 8: } D {dup 10: } ~D  {c +}{dup 5: } Total
> "
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified +         D            ~D  +      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "-----------+--------------------------+-----------"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "     +     |         4             0  |          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "+     {c |}         4             0  {c |}          4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
+     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  11: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |           4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "Decision tree model for acute" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. help smcl

. display {p2col [# # # #]:[first_column_text]} [second_column_text]
invalid syntax
r(198);

. display "{p2col [# # # #]:[first_column_text]} [second_column_text]"
{p2col [# # # #]:[first_column_text]} [second_column_text]

. display "{txt}{p2col [# # # #]:[first_column_text]} [second_column_text]"
{p2col [# # # #]:[first_column_text]} [second_column_text]

. display "{txt}{p2col [# # # #]:[first_column_text]} [second_column_text]"
{p2col [# # # #]:[first_column_text]} [second_column_text]

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{title: Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

 Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{dup 15: }{hline 8} True {hline 8}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

               -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 60:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

                   -------- True --------                   
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{dup 8: } D {dup 10: } ~D  {c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{right 20: D}{right 20: ~D}{c |}{dup 5: } Total
> "
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |{right 20: D}{right 20: ~D}|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{right 20: D}{right 20: ~D}{c |}{dup 5: } 
> Total"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |{right 20: D}{right 20: ~D}|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 20: D}{right 20: ~D}{c |}{dup 5: }
>  Total"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |                   D{right 20: ~D}|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 20: D}{ralign 20: ~D}{c |}{dup 5: 
> } Total"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |                   D                  ~D|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 15: D}{ralign 20: ~D}{c |}{dup 5: 
> } Total"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |              D                  ~D|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 13: D}{ralign 13: ~D}{c |}{dup 5: 
> } Total"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |            D           ~D|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 13: D}{ralign 13: ~D}{c |}{ralign 
> 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |            D           ~D|      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 11: D}{dup 2: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |          D           ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 2: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D           ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"
 11.         display "{dup 5: }+{dup 5: }{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 10: }+{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup 10: 
> }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
          +|         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{txt}{center 10: }+{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
          +|         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{txt}{center 10: +}{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup
>  10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +    |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{txt}{center 10:+}{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup 
> 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
    +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{txt}{center 11:+}{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup 
> 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11:+}{c |}{dup 9: }4{dup 13: }0{dup 2: }{c |}{dup 10: }
> 4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11:+}{c |}{ralign 10:4}{dup 13: }0{dup 2: }{c |}{dup 10
> : }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11:+}{c |}{ralign 10: 4}{dup 13: }0{dup 2: }{c |}{dup 1
> 0: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "{txt}Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup
>  2: }{c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{ralign 13: 0}{dup 2: }{c |}{d
> up 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4            0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "   Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2
> : }{c |}{ralign 11: Total}"
 10.         display "    {hline 11}{c +}{hline 26}                                  
>    {c +}{hline 11}"     
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 13: 0} {dup 2
> : }{c |}{dup 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
   Classified |         D            ~D  |      Total
    -----------+--------------------------                                     +-----
> ------
     +     |         4               0   |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 13: 0}{dup 2:
>  }{c |}{dup 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4               0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{dup 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 2: }{ralign 10: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 2: }{ralign 10: 0}{dup 2:
>  }{c |}{dup 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D          ~D  |      Total
-----------+--------------------------+-----------
     +     |         4           0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{dup 10: }4" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 10: 4}" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |         4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "     -     |         1             1  |          2" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "-----------+--------------------------+-----------"
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "   Total   |         5             1  |          6" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display "   Total   |         5             1  |          6" // todo
 16.         display ""
 17.         display "Classified + by tree"
 18.         display "True D defined as acute != 0" // todo: acute
 19.         display "--------------------------------------------------"
 20.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 21.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 22.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "--------------------------------------------------"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "-------------------------------------------------"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "--------------------------------------------------"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{txt}{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "--------------------------------------------------"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "--------------------------------------------------"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "-------------------------------------------------"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "--------------------------------------------------"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
-------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 20.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 21.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 22.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 23.         display "{hline 51}"
 24.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 25.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 26.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 27.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 28.         display "{hline 51}"
 29.         display "Correctly classified                        83.33%" // todo
 30.         display "{hline 51}"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32: Sensitivity}Pr( +| D)   80.00%" // todo
 20.         display "Sensitivity                     Pr( +| D)   80.00%" // todo
 21.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 22.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "{hline 51}"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
 Sensitivity                    Pr( +| D)   80.00%
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D)   80.00%" // todo
 20.         display "Sensitivity                     Pr( +| D){ralign 9:80.00%}" // 
> todo
 21.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 22.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "{hline 51}"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "Specificity                     Pr( -|~D)  100.00%" // todo
 22.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "{hline 51}"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "Positive predictive value       Pr( D| +)  100.00%" // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "{hline 51}"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "Negative predictive value       Pr(~D| -)   50.00%" // todo
 24.         display "{hline 51}"
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "False + rate for true ~D        Pr( +|~D)    0.00%" // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "False - rate for true D         Pr( -| D)   20.00%" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr( ~D| +){ralign 9:0.
> 00%}" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr( ~D| +)    0.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr(~D| +){ralign 9:0.0
> 0%}" // todo
 27.         display "False + rate for classified +   Pr(~D| +)    0.00%" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr(~D| +){ralign 9:0.0
> 0%}" // todo
 27.         display "{lalign 32:False - rate for classified -}Pr( D| -){ralign 9:50.
> 00%}" // todo
 28.         display "False - rate for classified -   Pr( D| -)   50.00%" // todo
 29.         display "{hline 51}"
 30.         display "Correctly classified                        83.33%" // todo
 31.         display "{hline 51}"
 32.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified + by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 51}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 51}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr(~D| +){ralign 9:0.0
> 0%}" // todo
 27.         display "{lalign 32:False - rate for classified -}Pr( D| -){ralign 9:50.
> 00%}" // todo
 28.         display "{hline 51}"
 29.         display "Correctly classified{ralign 30:83.33%}" // todo
 30.         display "{hline 51}"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + by tree
True D defined as acute != 0
---------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
---------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
---------------------------------------------------
Correctly classified                        83.33%
---------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{center 51:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 50}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 50}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr(~D| +){ralign 9:0.0
> 0%}" // todo
 27.         display "{lalign 32:False - rate for classified -}Pr( D| -){ralign 9:50.
> 00%}" // todo
 28.         display "{hline 50}"
 29.         display "Correctly classified{ralign 30:83.33%}" // todo
 30.         display "{hline 50}"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------               
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

. do "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification\chaid_estat_classification.do"

. // Mustafa Hussain
. // Spring 2016
. // CHAIDESTAT - Postestimation classifier accuracy metrics for CHAID
. // Written for STATA 13
. 
. // command prototype
. // chaidestat classification if !mod(observation + 4, 9)
. 
. capture program drop chaid_estat_classification

. program define chaid_estat_classification
  1. *! Postestimation classifier accuracy metrics for CHAID v1 GR 2-Feb-16
.         version 13.0
  2.         syntax [if]
  3.         
.         // TODO: Grab all the stuff from CHAID's return registers
.         
.         // TODO: Parse IF to generate new dataset
.         
.         // TODO: Classify this new dataset based on the tree
.         
.         // TODO: Determine accuracy stats on this new dataset
.         
.         // TODO: Finally, print everything out (51 columns wide)
.         
.         display ""
  4.         display "{error}NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED"
  5.         display ""
  6.         display "{txt}{title:Decision tree model for acute}" // todo: acute
  7.         display ""
  8.         display "{ralign 36:{hline 8} True {hline 8}}"
  9.         display "Classified {c |}{ralign 10: D}{dup 3: }{ralign 11: ~D}{dup 2: }
> {c |}{ralign 11: Total}"
 10.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 11.         display "{center 11: +}{c |}{ralign 10: 4}{dup 3: }{ralign 11: 0}{dup 2:
>  }{c |}{ralign 11: 4}" // todo
 12.         display "{center 11: -}{c |}{ralign 10: 1}{dup 3: }{ralign 11: 1}{dup 2:
>  }{c |}{ralign 11: 2}" // todo
 13.         display "{hline 11}{c +}{hline 26}{c +}{hline 11}"      
 14.         display "{center 11: Total}{c |}{ralign 10: 5}{dup 3: }{ralign 11: 1}{du
> p 2: }{c |}{ralign 11: 6}" // todo
 15.         display ""
 16.         display "Classified by tree"
 17.         display "True D defined as acute != 0" // todo: acute
 18.         display "{hline 50}"
 19.         display "{lalign 32:Sensitivity}Pr( +| D){ralign 9:80.00%}" // todo
 20.         display "{lalign 32:Specificity}Pr( -|~D){ralign 9:100.00%}" // todo
 21.         display "{lalign 32:Positive predictive value}Pr( D| +){ralign 9:100.00%
> }" // todo
 22.         display "{lalign 32:Negative predictive value}Pr(~D| -){ralign 9:50.00%}
> " // todo
 23.         display "{hline 50}"
 24.         display "{lalign 32:False + rate for true ~D}Pr( +|~D){ralign 9:0.00%}" 
> // todo
 25.         display "{lalign 32:False - rate for true D}Pr( -| D){ralign 9:20.00%}" 
> // todo
 26.         display "{lalign 32:False + rate for classified +}Pr(~D| +){ralign 9:0.0
> 0%}" // todo
 27.         display "{lalign 32:False - rate for classified -}Pr( D| -){ralign 9:50.
> 00%}" // todo
 28.         display "{hline 50}"
 29.         display "Correctly classified{ralign 30:83.33%}" // todo
 30.         display "{hline 50}"
 31.         
. end

. 
. clear

. cd "C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_
> estat_classification"
C:\Users\Mustafa\Dropbox\Classes\2016 a spring classes\Independent Study\chaid_estat_
> classification

. insheet using "SampleSet.csv"
(13 vars, 54 obs)

. 
. // should look similar to this
. quietly logistic acute vent drips if mod(observation + 4, 9)

. estat classification if !mod(observation + 4, 9)

Logistic model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified + if predicted Pr(D) >= .5
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
. // todo: get this to work
. chaid_estat_classification // if !mod(observation + 4, 9)

NOTE: PROTOTYPE -- NOT ACTUALLY IMPLEMENTED

Decision tree model for acute

              -------- True --------
Classified |         D            ~D  |      Total
-----------+--------------------------+-----------
     +     |         4             0  |          4
     -     |         1             1  |          2
-----------+--------------------------+-----------
   Total   |         5             1  |          6

Classified by tree
True D defined as acute != 0
--------------------------------------------------
Sensitivity                     Pr( +| D)   80.00%
Specificity                     Pr( -|~D)  100.00%
Positive predictive value       Pr( D| +)  100.00%
Negative predictive value       Pr(~D| -)   50.00%
--------------------------------------------------
False + rate for true ~D        Pr( +|~D)    0.00%
False - rate for true D         Pr( -| D)   20.00%
False + rate for classified +   Pr(~D| +)    0.00%
False - rate for classified -   Pr( D| -)   50.00%
--------------------------------------------------
Correctly classified                        83.33%
--------------------------------------------------

. 
. 
end of do-file

